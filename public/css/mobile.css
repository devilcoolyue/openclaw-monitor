/* ═══════════════════════════════════════════════════════════
   MOBILE RESPONSIVE (≤768px) — must be loaded last
   ═══════════════════════════════════════════════════════════ */
@media(max-width:768px){
  /* ── Sidebar → slide-in drawer ── */
  .sidebar{
    position:fixed;left:0;top:0;bottom:0;z-index:100;
    transform:translateX(-100%);
    transition:transform .25s ease;
    width:280px;min-width:280px;
    box-shadow:4px 0 20px rgba(0,0,0,.4);
  }
  .sidebar.open{transform:translateX(0)}

  /* ── Show hamburger button ── */
  .menu-btn{display:flex}

  /* ── Main header → two-row layout ── */
  .main-hdr{
    flex-wrap:wrap;
    padding:8px 12px;gap:8px;
  }
  .mh-left{
    flex-direction:row;align-items:center;gap:8px;
    min-width:0;flex:1;
  }
  .mh-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .mh-right{
    width:100%;order:1;
    gap:8px;flex-wrap:wrap;
  }

  /* search stretches full width */
  .search-box{flex:1;min-width:0}
  .search-input{width:100%;flex:1}

  /* filter pills scroll horizontally */
  .filters{
    overflow-x:auto;flex-wrap:nowrap;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
    flex:1;min-width:0;
  }
  .filters::-webkit-scrollbar{display:none}
  .fpill{flex-shrink:0}

  /* hide "Scroll" label, keep toggle */
  .toggle-wrap span{display:none}

  /* ── Log rows → stacked layout ── */
  .log-header{display:none}
  .log-row{
    display:flex;flex-wrap:wrap;
    grid-template-columns:none;
    padding:8px 12px;gap:4px;
    position:relative;
  }
  .lr-time{font-size:10px;margin-right:6px}
  .lr-badge{font-size:9px}
  .lr-msg{
    width:100%;order:1;
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    padding-right:30px;
  }
  .log-row.expanded .lr-msg{white-space:pre-wrap;overflow:visible;text-overflow:clip}
  .lr-actions{
    position:absolute;top:6px;right:8px;
  }
  .copy-btn{opacity:1}

  /* ── Session summary → compact 2-col grid ── */
  .ss-row-top{
    display:grid;grid-template-columns:1fr 1fr;
    gap:8px;padding:10px 12px 8px;
  }
  .ss-models{
    overflow-x:auto;flex-wrap:nowrap;
    -webkit-overflow-scrolling:touch;
    padding:0 12px 10px;
    scrollbar-width:none;
  }
  .ss-models::-webkit-scrollbar{display:none}
  .ss-model-tag{flex-shrink:0}

  /* ── Session summary collapsible on mobile ── */
  .ss-toggle{
    display:flex;align-items:center;justify-content:space-between;
    padding:10px 12px;cursor:pointer;
    border-bottom:1px solid var(--border);
    min-height:40px;
  }
  .ss-toggle-info{font-size:11px;color:var(--t1);font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}
  .ss-toggle-arrow{font-size:10px;color:var(--t3);transition:transform .2s;flex-shrink:0;margin-left:8px}
  .ss-body{display:none}
  .sess-summary.ss-expanded .ss-body{display:contents}
  .sess-summary.ss-expanded .ss-toggle-arrow{transform:rotate(180deg)}

  /* ── Session detail blocks → full-width ── */
  .s-msg{padding:8px 10px}
  .blk-tcall{padding:6px 8px}
  .tcall-args{max-height:140px}
  .blk-tres{max-height:180px}
  .text-body pre{overflow-x:auto}

  /* ── Boot screen → narrower ── */
  .boot-box{max-width:90vw;width:90vw}
  .boot-steps{max-width:100%}
  .boot-progress{max-width:100%}
  .boot-alert{max-width:100%}
  .boot-info{max-width:100%}

  /* ── Touch targets (44px minimum) ── */
  .fpill{min-height:36px;display:inline-flex;align-items:center}
  .nav-btn{min-height:44px}
  .s-card{min-height:44px;padding:10px 11px}

  /* ── Toast position for mobile ── */
  .toast-container{top:auto;bottom:16px;right:12px;left:12px}
  .toast{font-size:13px}

  /* ── Scroll-to-top button ── */
  .scroll-top-btn{bottom:16px;right:16px}

  /* ── System dashboard responsive ── */
  .sys-grid{grid-template-columns:1fr!important}
}
